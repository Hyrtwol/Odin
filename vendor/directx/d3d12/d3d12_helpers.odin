package directx_d3d12

D3D12_ENCODE_SHADER_4_COMPONENT_MAPPING :: proc(Src0, Src1, Src2, Src3: u32) -> u32 {
	D3D12_SHADER_COMPONENT_MAPPING_ALWAYS_SET_BIT_AVOIDING_ZEROMEM_MISTAKES :: (1 << (SHADER_COMPONENT_MAPPING_SHIFT * 4))
	return (
		(Src0 & SHADER_COMPONENT_MAPPING_MASK) |
		((Src1 & SHADER_COMPONENT_MAPPING_MASK) << SHADER_COMPONENT_MAPPING_SHIFT) |
		((Src2 & SHADER_COMPONENT_MAPPING_MASK) << (SHADER_COMPONENT_MAPPING_SHIFT * 2)) |
		((Src3 & SHADER_COMPONENT_MAPPING_MASK) << (SHADER_COMPONENT_MAPPING_SHIFT * 3)) |
		D3D12_SHADER_COMPONENT_MAPPING_ALWAYS_SET_BIT_AVOIDING_ZEROMEM_MISTAKES)
}

D3D12_DECODE_SHADER_4_COMPONENT_MAPPING :: proc(ComponentToExtract, Mapping: u32) -> SHADER_COMPONENT_MAPPING {
	return ((SHADER_COMPONENT_MAPPING)(Mapping >> (SHADER_COMPONENT_MAPPING_SHIFT * ComponentToExtract) & SHADER_COMPONENT_MAPPING_MASK))
}
